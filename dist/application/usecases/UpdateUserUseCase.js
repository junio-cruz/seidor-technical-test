var n=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var m=(s,e)=>{for(var t in e)n(s,t,{get:e[t],enumerable:!0})},y=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of g(e))!f.call(s,r)&&r!==t&&n(s,r,{get:()=>e[r],enumerable:!(i=c(e,r))||i.enumerable});return s};var _=s=>y(n({},"__esModule",{value:!0}),s);var I={};m(I,{UpdateUserUseCase:()=>u,default:()=>b});module.exports=_(I);(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[e]="fd5eaf77-c413-4c10-9950-a0604990cf52",s._sentryDebugIdIdentifier="sentry-dbid-fd5eaf77-c413-4c10-9950-a0604990cf52")}catch{}})();var p=class{constructor(e){this.entityModel=e;this.clientSession=e}clientSession;start(){return this.clientSession=[],!!this.clientSession}getSession(){if(this.clientSession)return this.clientSession;throw new Error("START_DATABASE_ERROR")}updateSession(e){return this.clientSession=e,this.clientSession}},d=new p([]);var a=class{async execute(e){let t,i=d.getSession(),r=i.find(o=>o.user_id===e.user_id||e.user_id===o.email)||null;if(!r)return r;let l=i.map(o=>o.user_id===e.user_id&&o.user_id===e.user_id?(t={user_id:e.user_id,...e.to_update,email:o.email,created_at:o.created_at},t):o);return d.updateSession(l),t}};var u=class{constructor(e,t=new a){this.logger=e;this.updateUserRepository=t;this.logger=this.logger.getChild("UpdateUserUseCase")}async execute(e){this.logger.debug("execute input",JSON.stringify(e));let t=this.updateUserRepository.execute(e);return this.logger.debug("update user repository response",t),this.logger.debug("execute output",t),t}};var b=void 0;0&&(module.exports={UpdateUserUseCase});
//# sourceMappingURL=UpdateUserUseCase.js.map
