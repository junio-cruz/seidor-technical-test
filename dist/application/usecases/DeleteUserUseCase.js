var a=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var m=(t,e)=>{for(var s in e)a(t,s,{get:e[s],enumerable:!0})},y=(t,e,s,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of f(e))!g.call(t,r)&&r!==s&&a(t,r,{get:()=>e[r],enumerable:!(i=U(e,r))||i.enumerable});return t};var b=t=>y(a({},"__esModule",{value:!0}),t);var I={};m(I,{DeleteUserUseCase:()=>d,default:()=>_});module.exports=b(I);(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="969eb366-0c69-461f-bc5e-76fb5f9a124b",t._sentryDebugIdIdentifier="sentry-dbid-969eb366-0c69-461f-bc5e-76fb5f9a124b")}catch{}})();var p=class{constructor(e){this.entityModel=e;this.clientSession=e}clientSession;start(){return this.clientSession=[],!!this.clientSession}getSession(){if(this.clientSession)return this.clientSession;throw new Error("START_DATABASE_ERROR")}updateSession(e){return this.clientSession=e,this.clientSession}},u=new p([]);var n=class{async execute(e){let s,i=u.getSession(),r=i.find(o=>o.user_id===e.user_id||e.user_id===o.email)||null;if(!r)return r;let c=i.map(o=>o.user_id===e.user_id&&o.user_id===e.user_id?(s={user_id:e.user_id,...e.to_update,email:o.email,created_at:o.created_at},s):o);return u.updateSession(c),s}};var d=class{constructor(e,s=new n){this.logger=e;this.updateUserRepository=s;this.logger=this.logger.getChild("DeleteUserUseCase")}async execute(e){this.logger.debug("execute input",JSON.stringify(e));let s=await this.updateUserRepository.execute({user_id:e.user_id,to_update:{deleted_at:new Date}});return this.logger.debug("delete user repository response",s),this.logger.debug("execute output",s),s}};var _=void 0;0&&(module.exports={DeleteUserUseCase});
//# sourceMappingURL=DeleteUserUseCase.js.map
